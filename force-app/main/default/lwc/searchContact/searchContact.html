<template>
    <lightning-card title="Search Contacts">
        <div class="slds-p-around_medium">
            <lightning-input label="First Name" name="firstName" onchange={handleInputChange}></lightning-input>
            <lightning-input label="Last Name" name="lastName" onchange={handleInputChange}></lightning-input>
            <lightning-input label="Email" name="email" onchange={handleInputChange}></lightning-input>

            <lightning-button 
                label="Search" 
                variant="brand" 
                class="slds-m-top_medium"
                disabled={isDisabled}
                onclick={handleSearch}>
            </lightning-button>

            <template if:true={contacts}>
                <template if:true={contacts.length}>
                    <ul class="slds-m-top_medium">
                        <template for:each={contacts} for:item="contact">
                            <li key={contact.Id} class="slds-box slds-m-vertical_x-small">
                                <p><strong>{contact.FirstName} {contact.LastName}</strong></p>
                                <p>{contact.Email}</p>
                            </li>
                        </template>
                    </ul>
                </template>
                <template if:false={contacts.length}>
                    <p class="slds-text-color_weak slds-m-top_medium">No contacts found.</p>
                </template>
            </template>

            <template if:true={error}>
                <p class="slds-text-color_error">{error.body.message}</p>
            </template>
        </div>
    </lightning-card>
</template>